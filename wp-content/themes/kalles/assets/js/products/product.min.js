!function(t){"use strict";var e=t("body"),i=t(window).width(),a="true"===THE4_Data_Js.is_rtl,o=i<768&&t(window).height()<768;THE4_Data_Js.zoom_option&&(The4Kalles.t4_zoom_option=JSON.parse(THE4_Data_Js.zoom_option),t(".the4-wc-single").length>0&&(t(".the4-wc-single.wc-single-2").length>0||t(".the4-wc-single.wc-single-3").length>0||t(".the4-wc-single.wc-single-4").length>0)&&(The4Kalles.t4_zoom_option.zoomType="inner")),The4Kalles.StickyAddToCart=function(){var e=t(".entry-summary form.cart"),a=t(".sticky_atc_wrap");if(!(a.length<=0||e.length<=0||i<768&&a.hasClass("mobile_false"))){var o=e.offset().top+e.outerHeight(),s=t("#the4-backtop"),n=t(".sticky_atc_wrap"),l=t("#the4-footer"),r=0,c=l.length>0,p=function(){var e=t(window).scrollTop(),i=t(window).height(),a=t(document).height();r=c?l.offset().top-l.height():e,e+i==a||o>e||e>r?(n.removeClass("sticky_atc_shown"),s.removeClass("sticky_atc_shown")):o<e&&e+i!=a&&(n.addClass("sticky_atc_shown"),s.addClass("sticky_atc_shown"))};p(),t(window).scroll(p),t(".sticky_atc_a").on("click",function(e){e.preventDefault(),t("html, body").animate({scrollTop:t(".entry-summary").offset().top},800)}),t("body").on("click",".swatch__list--item",function(e){h();var i=t(this),a=i.data("variation-name"),o=i.parent().prev();if(a&&o){var s=o.data("name");o.html(s.toUpperCase()+": "+a.toUpperCase())}});var h=function(){var e="",i=t("li.swatch__list--item").toArray();i&&i.forEach(function(i,a){if(t(i).hasClass("is-selected")){var o=t(i).find(".swatch__tooltip").text();o||(o=(s=t(i).data("variation-name")).charAt(0).toUpperCase()+s.slice(1)),e+=""==e?o:" / "+o}var s}),t(".sticky_atc_a").text(e),t.fn.wc_variations_image_update=function(e){e.price_html&&t(".sticky_atc_price").html(e.price_html)}},u=t(".summary .price").html();u&&t(".sticky_atc_price .price").html(u);var m=t(".entry-summary .quantity input").val();m&&t(".sticky_atc_wrap .sticky_input").val(m),t(".sticky_atc_wrap .sticky_input").on("change",function(){t(".entry-summary .quantity input").val(t(this).val())}),t(".entry-summary .quantity input").on("change",function(){t(".sticky_atc_wrap .sticky_input").val(t(this).val())});var _=t(".sticky_add_to_cart_btn");t(document).on("found_variation","form.cart",function(t,e){_.hasClass("disabled")&&_.removeClass("disabled")}),_.click(function(e){e.preventDefault(),t(".single_add_to_cart_button").trigger("click"),t(this).hasClass("disabled")?t("html, body").animate({scrollTop:t(".entry-summary").offset().top},800):t(this).addClass("the4-loading")})}},The4Kalles.Init360Image=function(){if(0!=t(".nt_mfp_360").length){var e,i=t("#pr_360_mfp").data("args");t(".nt_mfp_360").magnificPopup({items:{src:"#pr_360_mfp"},type:"inline",tClose:"Close",mainClass:"mfp-fade",removalDelay:160,disableOn:!1,preloader:!1,fixedContentPos:!1,callbacks:{beforeOpen:function(){},open:function(){t(".threesixty.doned").length>0||(e=t(".threesixty").ThreeSixty({totalFrames:i.total_frame,endFrame:i.total_frame,currentFrame:1,imgList:".threesixty_imgs",progress:".spinner",imgArray:i.images,autoplayDirection:1,height:i.height,width:i.width,drag:!0,navigation:!0,responsive:!0}),t(".threesixty").addClass("doned"))},beforeClose:function(){e.stop(),t(".nav_bar_stop").removeClass("nav_bar_stop").addClass("nav_bar_play")},close:function(){}}})}},The4Kalles.shortDescriptionReadMore=function(){t("#short_description-readmore").click(function(e){e.preventDefault();var i="#tab-title-description";t(i+":not(.active) > a").trigger("click"),t("html, body").stop().animate({scrollTop:t(i).offset().top-100},400)})},The4Kalles.initPrettyPhoto=function(){"function"==typeof t.fn.prettyPhoto&&(t("a.zoom").prettyPhoto({hook:"data-rel",social_tools:!1,theme:"pp_woocommerce",horizontal_padding:20,opacity:.8,deeplinking:!1}),t('a[data-rel^="prettyPhoto"]').prettyPhoto({hook:"data-rel",social_tools:!1,theme:"pp_woocommerce",horizontal_padding:20,opacity:.8,deeplinking:!1}))},The4Kalles.wcInitImageZoom=function(){if(t("body").hasClass("single-product")&&t(".the4-image-zoom").length>0&&!window._inQuickview&&!The4Kalles.isMobile()){var e=t(".single-product-thumbnail .the4-carousel");t(".the4-carousel .slick-current.p-item img");e.length>0?(t(".the4-carousel .slick-current.p-item img").ezPlus(The4Kalles.t4_zoom_option),t(".the4-carousel").on("beforeChange",function(e,i,a,o){t(".zoomContainer").remove(),setTimeout(function(){t(".the4-carousel .slick-current.p-item img").ezPlus(The4Kalles.t4_zoom_option)},10)})):(t(".main-img-wrapper img").ezPlus(The4Kalles.t4_zoom_option),is_lazyload||t(".single-product-thumbnail .images:not(.the4-carousel) .p-item  img").ezPlus(The4Kalles.t4_zoom_option));var i=t(".pswp__button--close");i.length>0&&i.click(function(e){t(this).closest(".pswp").removeClass("pswp--supports-fs pswp--open pswp--notouch pswp--css_animation pswp--svg pswp--animated-in pswp--zoom-allowed pswp--visible")})}},The4Kalles.initCarouselCustom=function(){t(".the4-carousel-custom-control").not(".slick-initialized").slick({infinite:!1,verticalSwiping:!0,prevArrow:t(".btn_pnav_prev"),nextArrow:t(".btn_pnav_next")})},The4Kalles.wcInitPopupVideo=function(){t(document).on("click",".p-video .the4-popup-url",function(e){e.preventDefault(),t.magnificPopup.open({disableOn:0,items:{src:t(this).attr("href")},type:"iframe"})}),t(document).on("click",".p-video .the4-popup-mp4",function(e){e.preventDefault(),t.magnificPopup.open({disableOn:0,items:{src:t(this).attr("href")},delegate:"a",type:"inline",callbacks:{open:function(){t(this.content).find("video")[0].play()},close:function(){t(this.content).find("video")[0].load()}}})})},The4Kalles.ProductImages=function(){if(e.hasClass("single-product")){var i=t(".product .p-thumb");t(".the4-wc-single").on("click",".single-product-img-link, .attachment-product-img-link",function(t){t.preventDefault()}),t(".the4-wc-single").on("click",".show_btn_pr_gallery",function(e){e.preventDefault();var o=s(),l=s("thumb"),r=t(".pswp__thumbnails"),c=function(e){return t(".p-thumb.the4-carousel").hasClass("slick-initialized")?t(".p-thumb.the4-carousel").find(".slick-slide.slick-active").index():t(e.currentTarget).hasClass("show_btn_pr_gallery")?0:t(e.currentTarget).index()}(e);-1==c&&(c=0),function(e,o){var s=document.querySelectorAll(".pswp_t4_js")[0];t(".pswp_size_guide").removeClass("pswp_size_guide"),t(".pswp_t4_js").addClass("pswp_pp_prs");var l={history:!1,maxSpreadZoom:1,bgOpacity:1,showHideOpacity:t(".p-thumb").hasClass("nt_contain")||t(".p-thumb").hasClass("nt_cover"),index:e,shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Twitt on Twitter",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin on Pinterest",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"}],getThumbBoundsFn:function(e){var a=t(".p-item img")[0];i.hasClass("the4-masonry")&&(a=t(".p-thumb img").eq(e)[0]);var o=window.pageYOffset||document.documentElement.scrollTop,s=a.getBoundingClientRect();return{x:s.left,y:s.top+o,w:s.width}}},r=new PhotoSwipe(s,PhotoSwipeUI_Default,o,l);r.init(),r.listen("afterChange",function(){if(a)var e=0-r.getCurrentIndex();else var e=r.getCurrentIndex();t(".pswp_tb_active").removeClass("pswp_tb_active"),t(".pswp_thumb_item:eq("+e+")").addClass("pswp_tb_active"),n()}),t(".pswp_t4_js").off("click").on("click",".pswp_thumb_item",function(){if(a)var e=0-t(this).index();else var e=t(this).index();r.goTo(e)}),r.listen("close",function(){if(setTimeout(function(){t(".pswp_pp_prs").attr("class","pswp pswp_t4_js pswp_tp_light")},500),a)var e=0-r.getCurrentIndex();else var e=r.getCurrentIndex();t(".the4-carousel").slick("slickGoTo",e)})}(c,o),r.length>0&&(r.html(l),t(".pswp_thumb_item:eq("+c+")").addClass("pswp_tb_active"),n())})}function s(e){var i=[],a="";return t(".p-thumb").find(".p-item img").each(function(e,o){var s=t(this).attr("data-large_image"),n=t(this).attr("data-large_image_width"),l=t(this).attr("data-large_image_height"),r=t(this).data("caption");i.push({src:s,w:n,h:l,title:r}),a+='<div class="pswp_thumb_item"><img class="lazyload lz_op_ef" src="data:image/svg+xml,%3Csvg%20viewBox%3D%220%200%20'+n+"%20"+l+'%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3C%2Fsvg%3E" data-src="'+s+'" data-widths="[50, 100]" data-sizes="auto"></div>'}),"thumb"==e?a:i}function n(){if(o){var e=t(".pswp_tb_active")[0],i=t(".pswp__thumbnails"),a=i[0],s=e.getBoundingClientRect(),n=a.getBoundingClientRect();s.left+s.width>n.width?i.animate({scrollLeft:e.offsetLeft+s.width-n.width+10},200):e.offsetLeft<a.scrollLeft&&i.animate({scrollLeft:e.offsetLeft-10},200)}}},t(document).ready(function(){The4Kalles.initPrettyPhoto(),The4Kalles.Init360Image(),The4Kalles.StickyAddToCart(),The4Kalles.shortDescriptionReadMore(),The4Kalles.wcInitImageZoom(),The4Kalles.wcInitPopupVideo(),The4Kalles.ProductImages()})}(jQuery);